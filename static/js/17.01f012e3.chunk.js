(this.webpackJsonpsheroes=this.webpackJsonpsheroes||[]).push([[17],{122:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return O}));var r=n(1),c=n(94),a=n.n(c),s=n(95),i=n(100),o=n.n(i),u=n(85),d=n(7),l=n(82),j={Authorization:"Token "+Object(u.a)()},b=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:d.b}),e.next=3,o.a.get(l.a+"/forms/get_all_not_del/",{headers:j}).then((function(e){return t({type:d.c,data:e.data}),e.data})).catch((function(e){t({type:d.a,errmess:"Error in connection with Server"})}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:d.e}),t.next=3,o.a.post(l.a+"/forms/",e,{headers:j}).then((function(e){return n({type:d.f,data:e.data}),e.data})).catch((function(e){n({type:d.d,errmess:"Error in connection with Server"})}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:d.k}),t.next=3,o.a.get("".concat(l.a,"/forms/").concat(e,"/"),{headers:j}).then((function(e){return n({type:d.l,data:e.data}),e.data})).catch((function(e){var t;return(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)?(n({type:d.j,errmess:e.response.data}),Object(r.a)(Object(r.a)({},e.response.data),{},{error:!0})):(n({type:d.j,errmess:"Error in connection with Server"}),e.response)}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(e){var t=e.id,n=e.data;return function(){var e=Object(s.a)(a.a.mark((function e(r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:d.n}),e.next=3,o.a.post("".concat(l.a,"/forms/").concat(t,"/update_fields/"),n,{headers:j}).then((function(e){return r({type:d.o,data:e.data}),e.data})).catch((function(e){r({type:d.m,errmess:"Error in connection with Server"})}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:d.h}),t.next=3,o.a.delete("".concat(l.a,"/forms/").concat(e,"/"),{headers:j}).then((function(e){return n({type:d.i,data:e.data}),e.data})).catch((function(e){n({type:d.g,errmess:"Error in connection with Server"})}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},211:function(e,t,n){},454:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(161),a=n(81),s=n(6),i=n(14),o=n(427),u=n(428),d=n(429),l=n(68),j=n(137),b=n(122),h=n(0),f=n(382),p=n(361),O=n(362),x=n(363),m=n(303),v=n(380),y=n(175),g=n.n(y),w=n(439),k=n(309),_=n(209),N=n(364),S=n.n(N),C=n(176),F=n.n(C),E=n(177),V=n.n(E),L=n(438),z=n(441),q=n(440),A=n(442),D=n(443),J=n(296),P=(n(211),n(2));var R=function(e){var t=e.id,n=e.heading,r=e.description,c=(e.section_sequence,e.created_by,e.updated_on),i=e.banner_path,o=Object(h.useState)(!1),u=Object(a.a)(o,2),d=u[0],l=u[1],j=Object(s.g)(),b=function(){return l(!d)};return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(f.a,{isOpen:d,toggle:b,children:[Object(P.jsx)(p.a,{toggle:b,children:"Delete Form"}),Object(P.jsxs)(O.a,{children:["Are you sure you want to delete form titled ",Object(P.jsxs)("em",{children:['"',n,'"']}),"?"]}),Object(P.jsxs)(x.a,{children:[Object(P.jsx)(m.a,{primary:!0,onClick:e.delete,children:"Yes"}),Object(P.jsx)(m.a,{secondary:!0,onClick:b,children:"Cancel"})]})]}),Object(P.jsxs)(L.a,{className:"my-2 border-danger h-100 border rounded_lg card_hover",children:[Object(P.jsxs)(w.a,{onClick:function(){return j.push("/admin/".concat(t))},children:[Object(P.jsx)(q.a,{children:Object(P.jsx)(v.a,{src:null!==i&&void 0!==i?i:"assets/Images/default.png",fluid:!0})}),Object(P.jsx)(z.a,{title:n,subheader:"Updated ".concat(g()(c).fromNow())}),Object(P.jsx)(A.a,{children:Object(P.jsxs)(J.a,{variant:"body2",color:"textSecondary",component:"p",children:[null===r||void 0===r?void 0:r.substring(0,50),(null===r||void 0===r?void 0:r.length)>50&&" ......"]})})]}),Object(P.jsxs)(D.a,{disableSpacing:!0,children:[Object(P.jsx)(k.a,{title:"Preview Form",placement:"top",children:Object(P.jsx)(_.a,{onClick:function(){return window.open("/".concat(t),"_blank").focus()},children:Object(P.jsx)(F.a,{})})}),Object(P.jsx)(k.a,{title:"View Responses",placement:"top",children:Object(P.jsx)(_.a,{onClick:function(){return j.push("/admin/".concat(t,"/responses"))},children:Object(P.jsx)(S.a,{})})}),Object(P.jsx)(k.a,{title:"Delete Form",placement:"top",children:Object(P.jsx)(_.a,{onClick:b,children:Object(P.jsx)(V.a,{})})})]})]})]})},I=n(143),M=n(180),T=n(453);var U=function(){var e,t=Object(i.d)((function(e){return e.user}));return Object(P.jsx)(o.a,{fluid:!0,children:Object(P.jsx)(u.a,{className:"d-flex justify-content-center",children:Object(P.jsx)(d.a,{lg:8,children:Object(P.jsxs)(u.a,{className:" my-3 py-4  bg-white align-items-center",children:[Object(P.jsxs)(d.a,{md:4,className:"text-center",children:[Object(P.jsxs)(M.a,{circular:!0,color:"red",size:"massive",children:[null===t||void 0===t?void 0:t.first_name[0],null===t||void 0===t?void 0:t.last_name[0]]}),Object(P.jsx)("h3",{children:null===t||void 0===t?void 0:t.username})]}),Object(P.jsxs)(d.a,{children:[Object(P.jsx)(u.a,{children:Object(P.jsxs)(d.a,{className:" d-flex justify-content-around",children:[Object(P.jsxs)(T.a,{children:[Object(P.jsx)(T.a.Value,{children:null===t||void 0===t||null===(e=t.forms)||void 0===e?void 0:e.length}),Object(P.jsx)(T.a.Label,{children:"Forms"})]}),Object(P.jsxs)(T.a,{children:[Object(P.jsx)(T.a.Value,{children:"31"}),Object(P.jsx)(T.a.Label,{children:"Views"})]}),Object(P.jsxs)(T.a,{children:[Object(P.jsx)(T.a.Value,{children:"10"}),Object(P.jsx)(T.a.Label,{children:"Responses"})]})]})}),Object(P.jsx)(u.a,{children:Object(P.jsx)(d.a,{children:Object(P.jsx)(I.a,{variant:"outlined",className:"w-100",color:"secondary",children:"Edit Profile"})})})]})]})})})})};t.default=function(e){var t=Object(i.d)((function(e){return e.user})),n=Object(i.c)(),f=Object(h.useState)(!0),p=Object(a.a)(f,2),O=p[0],x=p[1],m=Object(h.useState)(null===t||void 0===t?void 0:t.forms),v=Object(a.a)(m,2),y=v[0],g=v[1],w=Object(s.g)();return Object(h.useEffect)((function(){n(Object(b.a)()).then((function(e){var t=null===e||void 0===e?void 0:e.sort((function(e,t){return e.updated_on<t.updated_on?1:-1}));g(t),x(!1)}))}),[n]),Object(P.jsxs)(o.a,{className:"mt-3",fluid:!0,children:[Object(P.jsx)(U,{}),Object(P.jsx)(u.a,{className:"d-flex justify-content-center",children:Object(P.jsx)(d.a,{lg:8,children:Object(P.jsxs)("div",{onClick:function(){var e={created_by:t.id,updated_by:t.id,section_sequence:[]};n(Object(b.b)(e)).then((function(e){w.push("/admin/".concat(e.id))}))},className:"border p-3 bg-white text-dark",style:{cursor:"pointer"},children:[Object(P.jsx)(j.a,{name:"plus circle",size:"big"}),"Create New Form"]})})}),O&&Object(P.jsx)(u.a,{className:" mt-5 justify-content-center",children:Object(P.jsxs)("h2",{className:"text-muted",children:[Object(P.jsx)(l.a,{})," Fetching Latest Forms"]})}),Object(P.jsx)(u.a,{className:" mt-5 justify-content-center",children:null===y||void 0===y?void 0:y.map((function(e,t){return Object(P.jsx)(d.a,{sm:6,md:4,lg:3,className:"h-100",children:Object(P.jsx)(R,Object(r.a)(Object(r.a)({},e),{},{delete:function(){return function(e,t){g([].concat(Object(c.a)(y.slice(0,t)),Object(c.a)(y.slice(t+1)))),n(Object(b.c)(e))}(e.id,t)}}))},Math.random())}))})]})}},82:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c}));var r="https://sheroes-form.herokuapp.com",c="https://sheroes.pages.dev"},85:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(22),c=function(){var e,t;return null===r.a||void 0===r.a||null===(e=r.a.getState())||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.key}}}]);
//# sourceMappingURL=17.01f012e3.chunk.js.map